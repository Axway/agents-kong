# Settings for Kong Discovery Agent
kong:
  acl:
    disable: ${KONG_ACL_DISABLE:""}
  admin:
    url: ${KONG_ADMIN_URL:""}
    auth:
      basicauth:
        username: ${KONG_ADMIN_AUTH_BASICAUTH_USERNAME:""}
        password: ${KONG_ADMIN_AUTH_BASICAUTH_USERNAME:""}
      apiKey:
        header: ${KONG_ADMIN_AUTH_APIKEY_HEADER:""}
        value: ${KONG_ADMIN_AUTH_APIKEY_VALUE:""}
  proxy:
    host: ${KONG_PROXY_HOST:""}
    ports:
      http:
        value: ${KONG_PROXY_PORTS_HTTP_VALUE:""}
        disable: ${KONG_PROXY_PORTS_HTTP_DISABLE:""}
      https:
        value: ${KONG_PROXY_PORTS_HTTPS_VALUE:""}
        disable: ${KONG_PROXY_PORTS_HTTPS_DISABLE:""}
    basePath: ${KONG_PROXY_BASEPATH:""}
  spec:
    urlPaths: ${KONG_SPEC_URLPATHS:""}
    localPath: ${KONG_SPEC_LOCALPATH:""}
    filter: ${KONG_SPEC_FILTER:""}
    devPortalEnabled: ${KONG_SPEC_DEVPORTALENABLED:""}
  # Settings for connecting to Amplify Central

central:
  url: ${CENTRAL_URL:https://apicentral.axway.com}
  organizationID: ${CENTRAL_ORGANIZATIONID:""}
  team: ${CENTRAL_TEAM:""}
  deployment: ${CENTRAL_DEPLOYMENT:prod}
  environment: ${CENTRAL_ENVIRONMENT:""}
  environmentID: ${CENTRAL_ENVIRONMENTID} # only required when CENTRAL_USAGEREPORTING_OFFLINE=true
  agentName: ${CENTRAL_AGENTNAME:""}
  platformURL: ${CENTRAL_PLATFORMURL:https://platform.axway.com}
  reportActivityFrequency: ${CENTRAL_REPORTACTIVITYFREQUENCY:5m}
  usageReporting:
    publish: ${CENTRAL_USAGEREPORTING_PUBLISH}
    publishMetric: ${CENTRAL_USAGEREPORTING_PUBLISHMETRIC}
    interval: ${CENTRAL_USAGEREPORTING_INTERVAL}
    usageSchedule: ${CENTRAL_USAGEREPORTING_USAGESCHEDULE}
    offline: ${CENTRAL_USAGEREPORTING_OFFLINE}
    offlineSchedule: ${CENTRAL_USAGEREPORTING_OFFLINESCHEDULE}
  auth:
    url: ${CENTRAL_AUTH_URL:https://login.axway.com/auth}
    realm: ${CENTRAL_AUTH_REALM:Broker}
    clientId: ${CENTRAL_AUTH_CLIENTID:""}
    privateKey: ${CENTRAL_AUTH_PRIVATEKEY:./private_key.pem}
    publicKey: ${CENTRAL_AUTH_PUBLICKEY:./public_key.pem}
    keyPassword: ${CENTRAL_AUTH_KEYPASSWORD:""}
    timeout: 10s
  grpc:
    enabled: ${CENTRAL_GRPC_ENABLED}
    host: ${CENTRAL_GRPC_HOST}
    port: ${CENTRAL_GRPC_PORT}
  proxyUrl: ${CENTRAL_PROXYURL:""}
  clientTimeout: ${CENTRAL_CLIENTTIMEOUT:60s}
agentFeatures:
  persistCache: ${AGENTFEATURES_PERSISTCACHE}
  marketplaceProvisioning: ${AGENTFEATURES_MARKETPLACEPROVISIONING}
  versionChecker: ${AGENTFEATURES_VERSIONCHECKER}
  processSystemSignals: ${AGENTFEATURES_PROCESSSYSTEMSIGNALS}
  connectToCentral: ${AGENTFEATURES_CONNECTTOCENTRAL}
status:
  port: ${STATUS_PORT:8990}
  healthCheckPeriod: ${STATUS_HEALTHCHECKPERIOD:3m}
  healthCheckInterval: ${STATUS_HEALTHCHECKINTERVAL:30s}
log:
  level: ${LOG_LEVEL:info}
  format: ${LOG_FORMAT:json}
  output: ${LOG_OUTPUT:stdout}
  file:
    name: ${LOG_FILE_NAME:traceability_agent.log}
    path: ${LOG_FILE_PATH:logs}